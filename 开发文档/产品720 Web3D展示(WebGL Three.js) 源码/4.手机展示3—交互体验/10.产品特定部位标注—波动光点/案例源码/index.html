<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Three.js中文网：http://www.webgl3d.cn/</title>
  <style>
    body {
      margin: 0;
      /* overflow: hidden; */
      background: #f0f0f0;
    }

    .colorChoose {
      display: inline-block;
      margin-left: 20px;
      cursor: pointer;
    }

    .colorChoose img {
      width: 50px;
    }

    #color {
      width: 314px;
      position: absolute;
      /* top: 30px; */
      bottom: 12px;
      /* background:rgba(255,255,255,0.1); */
    }
  </style>
</head>

<body>


  <div id="color" style="">
    <div class="colorChoose" id="map1"><img src="./assets/极光紫.png"></div>
    <div class="colorChoose" id="map2"><img src="./assets/幻夜黑.png"></div>
    <div class="colorChoose" id="map3"><img src="./assets/珊瑚红.png"></div>
    <div class="colorChoose" id="map4"><img src="./assets/极光蓝.png"></div>
  </div>



  <script>

    var div = document.getElementById('color');
    div.style.left = (window.innerWidth - 314) / 2 + 'px';

    // 函数：changeMap切换手机的颜色贴图
    function changeMap(color) {//color：手机颜色贴图名称
      // 切换材质颜色贴图
      mobilePhoneMesh.material.map = texLoader.load("./scene/model/" + color + '.png');//颜色贴图
    }


  </script>
  <script type="module">
    // 引入Three.js
    import * as THREE from '../../../../three.js-r125/build/three.module.js';
    import { renderer } from './RenderLoop.js'
    //Three.js渲染结果Canvas画布插入到body元素中
    document.body.appendChild(renderer.domElement);

    import { mobilePhoneMesh } from './scene/model.js'//手机网格模型Mesh
    var texLoader = new THREE.TextureLoader();//纹理贴图加载器

    var map1 = texLoader.load("./scene/model/极光紫.png");//颜色贴图            
    var map2 = texLoader.load("./scene/model/幻夜黑.png");//颜色贴图
    var map3 = texLoader.load("./scene/model/珊瑚红.png");//颜色贴图
    var map4 = texLoader.load("./scene/model/极光蓝.png");//颜色贴图
    map1.flipY = false;// 纹理朝向texture.flipY
    map2.flipY = false;// 纹理朝向texture.flipY
    map3.flipY = false;// 纹理朝向texture.flipY
    map4.flipY = false;// 纹理朝向texture.flipY
    var mapArr = [map1, map2, map3, map4]

    var dom1 = document.getElementById('map1');
    var dom2 = document.getElementById('map2');
    var dom3 = document.getElementById('map3');
    var dom4 = document.getElementById('map4');
    var domArr = [dom1, dom2, dom3, dom4];

    var chooseDom = dom1;
    // 每个手机颜色切换按钮设置一个鼠标单击事件
    dom1.onclick = function () {
      chooseDom.style.borderColor = "#ccc";
      chooseDom = dom1;
      chooseDom.style.borderColor = "#00aaaa";
      mobilePhoneMesh.material.map = map1;
    }
    dom2.onclick = function () {
      chooseDom.style.borderColor = "#ccc";
      chooseDom = dom2;
      chooseDom.style.borderColor = "#00aaaa";
      mobilePhoneMesh.material.map = map2;
    }
    dom3.onclick = function () {
      chooseDom.style.borderColor = "#ccc";
      chooseDom = dom3;
      chooseDom.style.borderColor = "#00aaaa";
      mobilePhoneMesh.material.map = map3;
    }
    dom4.onclick = function () {
      chooseDom.style.borderColor = "#ccc";
      chooseDom = dom4;
      chooseDom.style.borderColor = "#00aaaa";
      mobilePhoneMesh.material.map = map4;
    }

  </script>
</body>

</html>